customElements.define("event-count",class extends HTMLElement{connectedCallback(){var e,t=this.getAttribute("event")||2147483647e3;if("string"==typeof t&&t.includes(":")){var[n,r,a]=t.split(":");t=new Date(new Date/1+36e5*n+6e4*r+1e3*a),e="hour,minute,second"}var i=(e=e||this.getAttribute("count")||"year,day,hour,minute,second").split(",").filter(e=>!this.hasAttribute("no"+e)),o=({create:e="div",id:t,append:n=[],...r})=>(Object.assign(e=document.createElement(e),{id:t,part:t,...r}).append(...n),this[t]=e),d=(e,t,n)=>t+":"+(this.getAttribute(e+"-"+t)||"var(--event-count-"+e+"-"+t+","+n+")")+";";this.attachShadow({mode:"open"}).append(o({create:"style",innerHTML:":host{display:inline-block}#event{"+d("event","color","#0")+d("event","padding","0 1rem")+d("event","font","2rem arial")+d("event","text-align","center")+d("event","background","#fc0")+"}#count{display:grid;grid:1fr/repeat("+i.length+",1fr);"+d("count","color","#fc0")+d("count","font","2rem arial")+d("count","text-align","center")+d("count","background","#080")+"}[part*='text']{"+d("text","padding","0 1rem")+d("text","font","1rem arial")+d("text","text-transform","uppercase")+"}"}),o({id:"event",append:[o({create:"slot",innerHTML:"Y2K38 Epochalypse"})]}),o({id:"count",append:i.map(e=>o({id:e+"count",append:[o({id:e}),o({id:e+"text",innerHTML:new Intl.RelativeTimeFormat(this.getAttribute("format")||"en").formatToParts(2,e)[2].value})]}))}));var s=setInterval(()=>{var e=new Date,n=new Date(t);n<e&&([e,n]=[n,e]);for(var r=n-e,a={year:~~(r/31536e6)},o=0,d=e.getFullYear();d<n.getFullYear();d++)(d%4==0&&d%100!=0||d%400==0)&&(n<e?o--:o++);a.day=~~((r-=31536e6*a.year)/864e5)+o,a.hour=~~((r-=(a.day-o)*864e5)/36e5),a.minute=~~((r-=36e5*a.hour)/6e4),a.second=~~((r-=6e4*a.minute)/1e3),i.map(e=>(this.setAttribute(e,a[e]),this[e].innerHTML=a[e])).every(e=>!e)&&(clearInterval(s),this.dispatchEvent(new Event(this.id)))},1e3)}});