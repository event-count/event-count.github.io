customElements.define("event-count",class extends HTMLElement{connectedCallback(e=this.getAttribute("event")||2147483647e3,t,n,a,r,i){if("string"==typeof e&&e.includes(":")){var[o,c,d]=e.split(":");e=new Date(new Date/1+36e5*o+6e4*c+1e3*d),t="hour,minute,second"}t=t||this.getAttribute("count")||"year,day,hour,minute,second",n=t.split(",").filter(e=>!this.hasAttribute("no"+e)),a=(({create:e="div",id:t,append:n=[],...a})=>(Object.assign(e=document.createElement(e),{id:t,part:t,...a}).append(...n),this[t]=e)),r=((e,t,n)=>t+":"+(this.getAttribute(e+"-"+t)||"var(--event-count-"+e+"-"+t+","+n+")")+";"),this.attachShadow({mode:"open"}).append(a({create:"style",innerHTML:":host{display:inline-block}#event{"+r("event","color","#0")+r("event","padding","0 1rem")+r("event","font","2rem arial")+r("event","text-align","center")+r("event","background","#fc0")+"}#count{display:grid;grid:1fr/repeat("+n.length+",1fr);"+r("count","color","#fc0")+r("count","font","2rem arial")+r("count","text-align","center")+r("count","background","#080")+"}[part*='text']{"+r("text","padding","0 1rem")+r("text","font","1rem arial")+r("text","text-transform","uppercase")+"}"}),a({id:"event",append:[a({create:"slot",innerHTML:"Y2K38 Epochalypse"})]}),a({id:"count",append:n.map(e=>a({id:e+"count",append:[a({id:e}),a({id:e+"text",innerHTML:new Intl.RelativeTimeFormat(this.getAttribute("format")||"en").formatToParts(2,e)[2].value})]}))})),i=setInterval(()=>{var t=new Date,a=new Date(e);a<t&&([t,a]=[a,t]);for(var r=a-t,o={year:~~(r/31536e6)},c=0,d=t.getFullYear();d<a.getFullYear();d++)(d%4==0&&d%100!=0||d%400==0)&&(a<t?c--:c++);o.day=~~((r-=31536e6*o.year)/864e5)+c,o.hour=~~((r-=864e5*(o.day-c))/36e5),o.minute=~~((r-=36e5*o.hour)/6e4),o.second=~~((r-=6e4*o.minute)/1e3),n.map(e=>(this.setAttribute(e,o[e]),this[e].innerHTML=o[e])).every(e=>!e)&&(clearInterval(i),this.dispatchEvent(new Event(this.id)))},1e3)}});