customElements.define("event-count",class extends HTMLElement{connectedCallback(){var e=(this.getAttribute("count")||"year,day,hour,minute,second").split(",").filter(e=>!this.hasAttribute("no"+e)),t=({create:e="div",id:t,append:n=[],...a})=>(Object.assign(e=document.createElement(e),{id:t,part:t,...a}).append(...n),this[t]=e),n=(e,t,n)=>t+":"+(this.getAttribute(e+"-"+t)||"var(--event-count-"+e+"-"+t+","+n+")")+";";this.attachShadow({mode:"open"}).append(t({create:"style",innerHTML:":host{display:inline-block}#event{"+n("event","color","#0")+n("event","padding","0 1rem")+n("event","font","2rem arial")+n("event","text-align","center")+n("event","background","#fc0")+"}#count{display:grid;grid:1fr/repeat("+e.length+",1fr);"+n("count","color","#fc0")+n("count","font","2rem arial")+n("count","text-align","center")+n("count","background","#080")+"}[part*='label']{"+n("label","padding","0 1rem")+n("label","font","1rem arial")+n("label","text-transform","uppercase")+"}"}),t({id:"event",append:[t({create:"slot",innerHTML:this.getAttribute("event")||"Y2K38 Epochalypse"})]}),t({id:"count",append:e.map(e=>t({id:e+"count",append:[t({id:e}),t({id:e+"label",innerHTML:new Intl.RelativeTimeFormat(this.getAttribute("format")||"en").formatToParts(2,e)[2].value})]}))}));var a=setInterval(()=>{var t=new Date,n=new Date(this.getAttribute("date")||2147483647e3);n<t&&([t,n]=[n,t]);for(var r=n-t,i={year:~~(r/31536e6)},l=0,o=t.getFullYear();o<n.getFullYear();o++)(o%4==0&&o%100!=0||o%400==0)&&(n<t?l--:l++);i.day=~~((r-=31536e6*i.year)/864e5)+l,i.hour=~~((r-=864e5*(i.day-l))/36e5),i.minute=~~((r-=36e5*i.hour)/6e4),i.second=~~((r-=6e4*i.minute)/1e3),e.map(e=>(this.setAttribute(e,i[e]),this[e].innerHTML=i[e])).every(e=>!e)&&(clearInterval(a),this.dispatchEvent(new Event(this.id)))},1e3)}});