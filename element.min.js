customElements.define("event-count",class extends HTMLElement{connectedCallback(){var e,t,n,a=this.getAttribute("event")||2147483647e3,r=this.getAttribute("time")?([e,t,n]=this.getAttribute("time").split(":"),a=new Date(new Date/1+36e5*e+6e4*t+1e3*n),"hour,minute,second"):this.getAttribute("count")||"year,day,hour,minute,second",i=r.split(",").filter(e=>!this.hasAttribute("no"+e)),o=({create:e="div",id:t,append:n=[],...a})=>(Object.assign(e=document.createElement(e),{id:t,part:t,...a}).append(...n),this[t]=e),c=(e,t,n)=>t+":"+(this.getAttribute(e+"-"+t)||"var(--event-count-"+e+"-"+t+","+n+")")+";";this.attachShadow({mode:"open"}).append(o({create:"style",innerHTML:":host{display:inline-block}#event{"+c("event","color","#0")+c("event","padding","0 1rem")+c("event","font","2rem arial")+c("event","text-align","center")+c("event","background","#fc0")+"}#count{display:grid;grid:1fr/repeat("+i.length+",1fr);"+c("count","color","#fc0")+c("count","font","2rem arial")+c("count","text-align","center")+c("count","background","#080")+"}[part*='text']{"+c("text","padding","0 1rem")+c("text","font","1rem arial")+c("text","text-transform","uppercase")+"}"}),o({id:"event",append:[o({create:"slot",innerHTML:"Y2K38 Epochalypse"})]}),o({id:"count",append:i.map(e=>o({id:e+"count",append:[o({id:e}),o({id:e+"text",innerHTML:new Intl.RelativeTimeFormat(this.getAttribute("format")||"en").formatToParts(2,e)[2].value})]}))}));var d=setInterval(()=>{var e=new Date,t=new Date(a);t<e&&([e,t]=[t,e]);for(var n=t-e,r={year:~~(n/31536e6)},o=0,c=e.getFullYear();c<t.getFullYear();c++)(c%4==0&&c%100!=0||c%400==0)&&(t<e?o--:o++);r.day=~~((n-=31536e6*r.year)/864e5)+o,r.hour=~~((n-=864e5*(r.day-o))/36e5),r.minute=~~((n-=36e5*r.hour)/6e4),r.second=~~((n-=6e4*r.minute)/1e3),i.map(e=>(this.setAttribute(e,r[e]),this[e].innerHTML=r[e])).every(e=>!e)&&(clearInterval(d),this.dispatchEvent(new Event(this.id)))},1e3)}});